"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var app=function(){function e(){}function r(t,e){for(var n in e)t[n]=e[n];return t}function P(t){t()}function Q(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n)}function W(t){t.parentNode.removeChild(t)}function X(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Y(t){return document.createElement(t)}function Z(t){return document.createTextNode(t)}function $(t,e,n,s){t.addEventListener(e,n,s)}function tt(t,e,n,s){t.removeEventListener(e,n,s)}function et(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){t.data=""+e}function s(){return Object.create(null)}function n(t){for(;t&&t.length;)t.shift()()}var t={processFiles:function(t){console.info(t),this.renderImage(t[0])},getLink:function(){this.getSize(this.get().imageUrl)},renderImage:function(t){var n=this,e=new FileReader;e.onload=function(t){var e=t.target.result;n.getSize(e)},e.readAsDataURL(t)},getSize:function(n){var t=new Image,s=this;t.onload=function(){var t=this.width,e=this.height;s.pushImage(n,t,e)},t.onerror=function(){alert("Упс. что-то пошло не так. Проверьте правильность ссылки")},t.src=n},pushImage:function(t,e,n){var s=this.get().images,i={src:"".concat(t),width:e,height:n};s.push(i),this.set({images:s})}};function nt(t,e,n){var s=Object.create(t);return s.image=e[n],s}function h(t,e,n){var s=Object.create(t);return s.image=e[n],s}function st(i,t){for(var r,s,a,o,c,l=0===t.images.length&&g(i,t),u=t.images,f=[],e=0;e<u.length;e+=1)f[e]=m(i,h(t,u,e));return{c:function(){r=Y("div"),(s=Y("h2")).textContent="Список загруженных изображений:",a=Z("\r\n                "),l&&l.c(),o=Z("\r\n                "),c=Y("ul");for(var t=0;t<f.length;t+=1)f[t].c();c.className="images-list",r.className="loaded-images-info svelte-ku3qsp"},m:function(t,e){V(t,r,e),Q(r,s),Q(r,a),l&&l.m(r,null),Q(r,o),Q(r,c);for(var n=0;n<f.length;n+=1)f[n].m(c,null)},p:function(t,e){if(0===e.images.length?l||((l=g(i,e)).c(),l.m(r,o)):l&&(l.d(1),l=null),t.images){u=e.images;for(var n=0;n<u.length;n+=1){var s=h(e,u,n);f[n]?f[n].p(t,s):(f[n]=m(i,s),f[n].c(),f[n].m(c,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}},d:function(t){t&&W(r),l&&l.d(),X(f,t)}}}function g(t,e){var n;return{c:function(){(n=Y("p")).textContent="Вы еще ничего не загрузили",n.className="svelte-ku3qsp"},m:function(t,e){V(t,n,e)},d:function(t){t&&W(n)}}}function m(t,e){var n,s,i,r,a,o,c,l,u,f,h,g,m,p,d=e.image.src,_=e.image.width,v=e.image.height;return{c:function(){n=Y("li"),s=Y("p"),i=Z("src: "),r=Z(d),a=Z("\r\n                        "),o=Y("p"),c=Z("width: "),l=Z(_),u=Z(" px"),f=Z("\r\n                        "),h=Y("p"),g=Z("height: "),m=Z(v),p=Z(" px"),s.className="svelte-ku3qsp",o.className="svelte-ku3qsp",h.className="svelte-ku3qsp"},m:function(t,e){V(t,n,e),Q(n,s),Q(s,i),Q(s,r),Q(n,a),Q(n,o),Q(o,c),Q(o,l),Q(o,u),Q(n,f),Q(n,h),Q(h,g),Q(h,m),Q(h,p)},p:function(t,e){t.images&&d!==(d=e.image.src)&&b(r,d),t.images&&_!==(_=e.image.width)&&b(l,_),t.images&&v!==(v=e.image.height)&&b(m,v)},d:function(t){t&&W(n)}}}function it(t,e){var n,s,i,r;return{c:function(){n=Y("div"),(s=Y("img")).src=i=e.image.src,s.alt="",s.className="gallery__image svelte-ku3qsp",n.className=r="gallery__image-wrapper "+e.borderClass+" svelte-ku3qsp"},m:function(t,e){V(t,n,e),Q(n,s)},p:function(t,e){t.images&&i!==(i=e.image.src)&&(s.src=i),t.borderClass&&r!==(r="gallery__image-wrapper "+e.borderClass+" svelte-ku3qsp")&&(n.className=r)},d:function(t){t&&W(n)}}}function i(t){var e,n;n=t,(e=this)._handlers=s(),e._slots=s(),e._bind=n._bind,e._staged={},e.options=n,e.root=n.root||e,e.store=n.store||e.root.store,n.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[]),this._state=r({images:[],imageUrl:"",showImagesInfo:!1,borderClass:""},t.data),this._intro=!!t.intro,this._fragment=function(i,r){var s,a,o,c,l,u,f,h,g,m,p,d,_,v,b,k,y,N,C,q,w,x,I,S,U,L,j,O,z,A,E,F,R=!1;function e(t){i.processFiles(this.files)}function n(){R=!0,i.set({imageUrl:v.value}),R=!1}function B(t){i.getLink()}function D(t){i.set({borderClass:"gallery__image-wrapper_black-border"})}function G(t){i.set({borderClass:"gallery__image-wrapper_flower-border"})}function T(t){i.set({borderClass:""})}function H(t){i.set({showImagesInfo:!r.showImagesInfo})}for(var J=r.showImagesInfo&&st(i,r),K=r.images,M=[],t=0;t<K.length;t+=1)M[t]=it(0,nt(r,K,t));return{c:function(){s=Y("div"),a=Y("section"),(o=Y("h1")).textContent="Галерея",c=Z("\r\n        "),l=Y("div"),(u=Y("h2")).textContent="Загрузка фото",f=Z("\r\n            "),(h=Y("p")).textContent="Вы можете загрузить картинку с вашего компьютера",g=Z("\r\n            "),m=Y("input"),p=Z("\r\n\r\n            "),(d=Y("p")).textContent="или добавьте ссылку на сторонний ресурс(после добавления ссылки, нажмите enter)",_=Z("\r\n            "),v=Y("input"),b=Z("\r\n            "),(k=Y("button")).textContent="Добавить картинку по ссылке",y=Z("\r\n        "),N=Y("div"),(C=Y("h2")).textContent="Добавление рамки",q=Z("\r\n            "),(w=Y("button")).textContent="Добавить черную\r\n                рамку",x=Z("\r\n            "),(I=Y("button")).textContent="Добавить цветочную\r\n                рамку",S=Z("\r\n            "),(U=Y("button")).textContent="Удалить рамку",L=Z("\r\n        "),j=Y("div"),(O=Y("button")).textContent="Показать/скрыть информацию по картинкам",z=Z("\r\n            "),J&&J.c(),A=Z("\r\n\r\n    "),E=Y("div");for(var t=0;t<M.length;t+=1)M[t].c();$(m,"change",e),et(m,"type","file"),m.placeholder="Загрузите файл с вашего компьютера",m.className="svelte-ku3qsp",$(v,"input",n),et(v,"type","url"),v.placeholder="укажите ссылку на файл",v.className="svelte-ku3qsp",$(k,"click",B),k.className="svelte-ku3qsp",l.className="photo-upload toolbar__section svelte-ku3qsp",$(w,"click",D),w.className="svelte-ku3qsp",$(I,"click",G),I.className="svelte-ku3qsp",$(U,"click",T),U.className="svelte-ku3qsp",N.className="decoration toolbar__section svelte-ku3qsp",$(O,"click",H),O.className="svelte-ku3qsp",j.className="toolbar__section svelte-ku3qsp",a.className="toolbar svelte-ku3qsp",E.className="gallery svelte-ku3qsp",s.className="gallery-page svelte-ku3qsp"},m:function(t,e){V(t,s,e),Q(s,a),Q(a,o),Q(a,c),Q(a,l),Q(l,u),Q(l,f),Q(l,h),Q(l,g),Q(l,m),Q(l,p),Q(l,d),Q(l,_),Q(l,v),v.value=r.imageUrl,Q(l,b),Q(l,k),Q(a,y),Q(a,N),Q(N,C),Q(N,q),Q(N,w),Q(N,x),Q(N,I),Q(N,S),Q(N,U),Q(a,L),Q(a,j),Q(j,O),Q(j,z),J&&J.m(j,null),Q(s,A),Q(s,E);for(var n=0;n<M.length;n+=1)M[n].m(E,null);F=!0},p:function(t,e){if(r=e,!R&&t.imageUrl&&(v.value=r.imageUrl),r.showImagesInfo?J?J.p(t,r):((J=st(i,r)).c(),J.m(j,null)):J&&(J.d(1),J=null),t.borderClass||t.images){K=r.images;for(var n=0;n<K.length;n+=1){var s=nt(r,K,n);M[n]?M[n].p(t,s):(M[n]=it(0,s),M[n].c(),M[n].m(E,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=K.length}},i:function(t,e){F||this.m(t,e)},o:P,d:function(t){t&&W(s),tt(m,"change",e),tt(v,"input",n),tt(k,"click",B),tt(w,"click",D),tt(I,"click",G),tt(U,"click",T),tt(O,"click",H),J&&J.d(),X(M,t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}return r(i.prototype,{destroy:function(t){this.destroy=e,this.fire("destroy"),this.set=e,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var s=0;s<n.length;s+=1){var i=n[s];if(!i.__calling)try{i.__calling=!0,i.call(this,e)}finally{i.__calling=!1}}},on:function(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){var e;this._set(r({},t)),this.root._lock||((e=this.root)._lock=!0,n(e._beforecreate),n(e._oncreate),n(e._aftercreate),e._lock=!1)},_recompute:e,_set:function(t){var e=this._state,n={},s=!1;for(var i in t=r(this._staged,t),this._staged={},t)this._differs(t[i],e[i])&&(n[i]=s=!0);s&&(this._state=r(r({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){r(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==_typeof(t)||"function"==typeof t}}),r(i.prototype,t),new i({target:document.body,data:{name:"Gallery"}})}();